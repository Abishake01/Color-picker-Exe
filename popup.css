:root{--bg:#0f1115;--panel:#151923;--text:#e8eef7;--muted:#a9b3c7;--accent:#4f7cff;--accent-2:#19c37d;--border:#222838;--shadow:rgba(0,0,0,.35)}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{min-width:320px;max-width:420px;background:var(--bg);color:var(--text);font:14px/1.4 system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.app{padding:12px}
.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.brand{display:flex;gap:8px;align-items:center}
.brand .dot{width:10px;height:10px;border-radius:50%;background:conic-gradient(from 0deg, #ff4d4f, #ffec3d, #52c41a, #40a9ff, #9254de, #ff4d4f)}
.brand .title{font-weight:600;letter-spacing:.2px}
.actions .icon-btn{background:transparent;color:var(--muted);border:1px solid var(--border);border-radius:8px;padding:5px 8px;cursor:pointer;transition:all .15s}
.actions .icon-btn:hover{color:var(--text);border-color:#2b3045;transform:translateY(-1px)}
.picker{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;box-shadow:0 6px 16px var(--shadow);display:flex;flex-direction:column;gap:8px}
.pick-btn{appearance:none;border:0;background:linear-gradient(135deg,var(--accent),#4f7cff);color:white;padding:12px 14px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 10px 18px rgba(124,92,255,.35);transition:transform .1s ease,box-shadow .2s ease}
.pick-btn:hover{transform:translateY(-1px);box-shadow:0 14px 22px rgba(124,92,255,.45)}
.pick-btn:active{transform:translateY(0)}
.status{min-height:18px;color:var(--muted)}
.current{margin-top:12px;background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;display:grid;grid-template-columns:auto 1fr;gap:12px}
.preview{width:70px;height:70px;border-radius:10px;border:1px solid var(--border);box-shadow:inset 0 0 0 1px rgba(255,255,255,.05)}
.values{display:flex;flex-direction:column;gap:6px}
.value-row{display:grid;grid-template-columns:42px 1fr auto;gap:8px;align-items:center}
.label{color:var(--muted);font-weight:600}
.code{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
.copy{appearance:none;padding:6px 8px;border-radius:8px;border:1px solid var(--border);background:#101421;color:var(--text);cursor:pointer}
.copy:hover{border-color:#2b3045}
.current-actions{grid-column:1 / -1}
.secondary{appearance:none;background:transparent;border:1px solid var(--border);color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer}
.secondary:hover{border-color:#2b3045}
.history,.palette{margin-top:14px}
.swatches{display:flex;flex-wrap:wrap;gap:8px}
.swatch{width:30px;height:30px;border-radius:8px;border:1px solid var(--border);cursor:pointer;position:relative;transition:transform .1s ease}
.swatch:hover{transform:translateY(-1px)}
.swatch .remove{position:absolute;top:-8px;right:-8px;background:#0b0e16;border:1px solid var(--border);color:var(--muted);border-radius:10px;padding:0 6px;font-size:12px;cursor:pointer}
.palette-actions{margin-top:8px}

/* New template styles */
.topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.brand{display:flex;gap:8px;align-items:center}
.brand-icon{filter:drop-shadow(0 1px 2px rgba(0,0,0,.35))}
.toolbar{display:flex;gap:8px;align-items:center}
.icon-btn{background:transparent;color:var(--muted);border:1px solid var(--border);border-radius:8px;padding:6px 8px;cursor:pointer;transition:all .15s}
.icon-btn:hover{color:var(--text);border-color:#2b3045;transform:translateY(-1px)}
.cta{display:flex;align-items:center;gap:8px;border:0;background:linear-gradient(135deg,var(--accent),#7c5cff);color:white;padding:10px 12px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 10px 18px rgba(79,124,255,.35);transition:transform .1s ease,box-shadow .2s ease}
.cta:hover{transform:translateY(-1px);box-shadow:0 14px 22px rgba(79,124,255,.45)}

.panel{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;box-shadow:0 6px 16px var(--shadow);display:flex;flex-direction:column;gap:12px;margin-bottom:12px}
.panel-title{font-weight:600;color:var(--text)}

/* Embedded picker */
.sb-wrap{position:relative;height:140px;border-radius:10px;overflow:hidden;border:1px solid var(--border)}
.sb{position:absolute;inset:0;background:red}
.sb::before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,#fff,rgba(255,255,255,0))}
.sb::after{content:"";position:absolute;inset:0;background:linear-gradient(0deg,#000,rgba(0,0,0,0))}
.sb-cursor{position:absolute;width:18px;height:18px;border-radius:50%;border:2px solid #fff;box-shadow:0 0 0 2px rgba(0,0,0,.35);transform:translate(-9px,-9px);pointer-events:none}

.hue-wrap{padding:2px 0}
.hue{-webkit-appearance:none;appearance:none;width:100%;height:12px;border-radius:999px;background:linear-gradient(90deg, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);outline:none;border:1px solid var(--border)}
.hue::-webkit-slider-thumb{appearance:none;width:16px;height:16px;border-radius:50%;background:#fff;border:2px solid #0f1115;box-shadow:0 0 0 2px rgba(0,0,0,.35)}
.hue::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:#fff;border:2px solid #0f1115}

.hex-input input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#101421;color:var(--text);font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}

.kv{display:flex;flex-direction:column;gap:8px}
.kv-row{display:flex;align-items:center;gap:8px}
.kv-row .n{width:60px;padding:6px 8px;border-radius:8px;border:1px solid var(--border);background:#101421;color:var(--text)}
.current-chip{display:inline-block;padding:8px 12px;border:1px solid var(--border);border-radius:999px;background:#101421;color:var(--text);font-weight:600}
.gen-actions{display:flex;gap:8px}

@media (max-width:360px){
  .value-row{grid-template-columns:38px 1fr auto}
  .preview{width:60px;height:60px}
}
